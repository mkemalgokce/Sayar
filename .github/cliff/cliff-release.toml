# Release Notes Configuration (GitHub Release - Important commits only)
# Based on cliff.toml but only includes: feat, fix, perf, refactor

[changelog]
header = ""
body = """
{% for group, commits in commits | group_by(attribute="group") %}\
{% if group is containing("Features") or group is containing("Bug Fixes") or group is containing("Performance") or group is containing("Refactor") %}\
### {{ group | striptags | trim | upper_first }}
{% for commit in commits %}\
- {% if commit.scope %}**{{commit.scope}}**: {% endif %}\
{% if commit.breaking %}[**breaking**] {% endif %}\
{{ commit.message | upper_first }}
{% endfor %}
{% endif %}\
{% endfor %}\
"""
footer = ""
trim = true

[git]
conventional_commits = true
filter_unconventional = true
split_commits = false
commit_preprocessors = []

commit_parsers = [
  { message = "^feat", group = "🚀 Features" },
  { message = "^fix", group = "🐛 Bug Fixes" },
  { message = "^perf", group = "⚡ Performance" },
  { message = "^refactor", group = "🚜 Refactor" },

  # Skip everything else
  { message = ".*", skip = true },
]

protect_breaking_commits = true
filter_commits = false
topo_order = false
sort_commits = "oldest"
